{"version":3,"sources":["redux/actions/types.js","utils/setToken.js","utils/setUserName.js","redux/actions/alert.js","redux/actions/user.js","components/header/Header.js","assets/logo.png","components/Community.js","components/AllCommunities.js","components/Post.js","components/Home.js","components/login/Login.js","components/signup/SignUp.js","components/alart/Alert.js","assets/spinner.gif","components/dashboard/Posts.js","components/Comment.js","components/dashboard/Comments.js","components/DashboardCommunities.js","components/dashboard/UserPage.js","components/CreateCommunity.js","components/CreatePost.js","redux/reducers/user.js","redux/reducers/alert.js","redux/reducers/index.js","redux/store.js","components/PostPage.js","components/CommunityPage.js","components/NotFound.js","App.js","index.js"],"names":["LOGIN_SUCCESS","LOGIN_FAIL","REGISTER_SUCCESS","REGISTER_FAIL","SET_ALERT","REMOVE_ALERT","LOG_OUT","USER_LOAD_FAIL","USER_LOAD_SUCCESS","setToken","token","localStorage","setItem","setUserName","userName","setAlert","msg","type","dispatch","id","uuid","payload","setTimeout","loadUser","getItem","axios","defaults","headers","common","connect","state","isAuthenticated","user","logOut","removeItem","className","role","aria-label","style","background","to","src","alt","onClick","document","querySelector","classList","toggle","aria-expanded","data-target","color","aria-hidden","Community","community","name","title","description","AllCommunities","useState","communities","setCommunities","useEffect","a","get","res","data","map","withRouter","post","history","location","useLocation","votes","setVotes","showDeleteIcon","setShowDeleteIcon","pathname","includes","voteUp","e","put","console","log","response","voteDown","deletePost","delete","push","cursor","user_name","community_name","comments_count","post_body","class","position","top","right","posts","setPosts","length","login","email","password","config","newUser","body","JSON","stringify","formData","setFormData","emailErrorMsg","setEmailErrorMsg","passwordErrorMsg","setPasswordErrorMsg","handleChange","preventDefault","target","value","validate","RegExp","test","onSubmit","noValidate","htmlFor","placeholder","onChange","register","firstName","lastName","first_name","last_name","firstNameErrorMsg","setFirstNameErrorMsg","lastNameErrorMsg","setLastNameErrorMsg","userNameErrorMsg","setUserNameErrorMsg","alerts","alert","Posts","useParams","comment","postId","deleteComment","window","reload","comment_body","Comments","comments","setComments","showCreateCommnity","setShowCreateCommunity","loading","selected","setSelected","profile","setProfile","handleClick","innerText","Spinner","karma","created_at","DashboardCommunities","topic","nameErrorMsg","setNameErrorMsg","descriptionErrorMsg","setDescriptionErrorMsg","topicErrorMsg","setTopicErrorMsg","handleSubmit","communityName","titleErrorMsg","setTitleErrorMsg","bodyErrorMsg","setBodyErrorMsg","cols","rows","initialState","filter","rootReducer","combineReducers","middleware","thunk","store","createStore","composeWithDevTools","applyMiddleware","setPost","setComment","setCommunity","isAdmin","setIsAdmin","isJoined","setIsJoined","admin","users","join","leave","deleteCommunity","maxWidth","members_count","NotFound","App","path","exact","component","Home","Login","SignUp","CreateCommunity","UserPage","PostPage","CommunityPage","CreatePost","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.9c4dc22f.chunk.js","sourcesContent":["export const LOGIN_SUCCESS = 'LOGIN_SUCCESS';\r\nexport const LOGIN_FAIL = 'LOGIN_FAIL';\r\nexport const REGISTER_SUCCESS = 'REGISTER_SUCCESS';\r\nexport const REGISTER_FAIL = 'REGISTER_FAIL';\r\nexport const SET_ALERT = 'SET_ALERT';\r\nexport const REMOVE_ALERT = 'REMOVE_ALERT';\r\nexport const LOG_OUT = 'LOG_OUT';\r\nexport const USER_LOAD_FAIL = 'USER_LOAD_FAIL';\r\nexport const USER_LOAD_SUCCESS = 'USER_LOAD_SUCCESS';\r\nexport const CREATE_POST = 'CREATE_POST';\r\nexport const LOAD_USER_PROFILE = 'LOAD_USER_PROFILE';\r\n","export const setToken = (token) => {\r\n  localStorage.setItem('token', token);\r\n};\r\n","export const setUserName = (userName) => {\r\n  localStorage.setItem('userName', userName);\r\n};\r\n","import { SET_ALERT, REMOVE_ALERT } from './types';\r\nimport { v4 as uuid } from 'uuid';\r\n\r\nexport const setAlert = (msg, type) => (dispatch) => {\r\n  const id = uuid();\r\n  dispatch({\r\n    type: SET_ALERT,\r\n    payload: {\r\n      msg,\r\n      type,\r\n      id,\r\n    },\r\n  });\r\n\r\n  setTimeout(() => {\r\n    dispatch({\r\n      type: REMOVE_ALERT,\r\n      payload: id,\r\n    });\r\n  }, 3000);\r\n};\r\n","import {\r\n  LOGIN_SUCCESS,\r\n  LOGIN_FAIL,\r\n  REGISTER_FAIL,\r\n  REGISTER_SUCCESS,\r\n  LOG_OUT,\r\n  USER_LOAD_FAIL,\r\n  USER_LOAD_SUCCESS,\r\n} from './types';\r\nimport axios from 'axios';\r\nimport { setToken } from '../../utils/setToken';\r\nimport { setUserName } from '../../utils/setUserName';\r\nimport { setAlert } from '../actions/alert';\r\n\r\nexport const login = ({ email, password }) => async (dispatch) => {\r\n  const config = {\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n  };\r\n  const newUser = {\r\n    email,\r\n    password,\r\n  };\r\n  try {\r\n    const body = JSON.stringify(newUser);\r\n    const res = await axios.post(\r\n      'https://sheltered-plateau-70431.herokuapp.com/login',\r\n      body,\r\n      config\r\n    );\r\n    dispatch({\r\n      type: LOGIN_SUCCESS,\r\n      payload: res.data,\r\n    });\r\n    setToken(res.data.token);\r\n    setUserName(res.data.user_name);\r\n    dispatch(loadUser());\r\n  } catch (error) {\r\n    dispatch(setAlert(error.response, 'danger'));\r\n    dispatch({\r\n      type: LOGIN_FAIL,\r\n    });\r\n  }\r\n};\r\n\r\nexport const register = ({\r\n  firstName,\r\n  lastName,\r\n  userName,\r\n  email,\r\n  password,\r\n}) => async (dispatch) => {\r\n  const config = {\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n  };\r\n  const newUser = {\r\n    first_name: firstName,\r\n    last_name: lastName,\r\n    user_name: userName,\r\n    email,\r\n    password,\r\n  };\r\n  try {\r\n    const body = JSON.stringify(newUser);\r\n    const res = await axios.post(\r\n      'https://sheltered-plateau-70431.herokuapp.com/signup',\r\n      body,\r\n      config\r\n    );\r\n    dispatch({\r\n      type: REGISTER_SUCCESS,\r\n      payload: res.data,\r\n    });\r\n    setToken(res.data.token);\r\n    setUserName(res.data.user_name);\r\n    dispatch(loadUser());\r\n  } catch (error) {\r\n    dispatch(setAlert(error.response, 'danger'));\r\n    dispatch({\r\n      type: REGISTER_FAIL,\r\n    });\r\n  }\r\n};\r\n\r\nexport const logOut = () => (dispatch) => {\r\n  if (localStorage.token) {\r\n    localStorage.removeItem('token');\r\n  }\r\n  if (localStorage.userName) {\r\n    localStorage.removeItem('userName');\r\n  }\r\n  dispatch({\r\n    type: LOG_OUT,\r\n  });\r\n};\r\n\r\nexport const loadUser = () => (dispatch) => {\r\n  if (localStorage.getItem('token')) {\r\n    axios.defaults.headers.common['x-auth-token'] = localStorage.getItem(\r\n      'token'\r\n    );\r\n    dispatch({\r\n      type: USER_LOAD_SUCCESS,\r\n      payload: {\r\n        token: localStorage.getItem('token'),\r\n        userName: localStorage.getItem('userName'),\r\n      },\r\n    });\r\n  } else {\r\n    dispatch({\r\n      type: USER_LOAD_FAIL,\r\n    });\r\n  }\r\n};\r\n","import { React, useState, useEffect } from 'react';\r\nimport { FaBars, FaRegWindowClose } from 'react-icons/fa';\r\nimport { Link } from 'react-router-dom';\r\nimport { logOut } from '../../redux/actions/user';\r\nimport { connect } from 'react-redux';\r\nimport logo from '../../assets/logo.png';\r\n\r\nconst Header = ({ isAuthenticated, logOut, userName }) => {\r\n  const toggleMenu = () => {\r\n    document.querySelector('.navbar-brand').classList.toggle('is-active');\r\n    document.querySelector('.navbar-menu').classList.toggle('is-active');\r\n  };\r\n\r\n  return (\r\n    <nav\r\n      className='navbar'\r\n      role='navigation'\r\n      aria-label='main navigation'\r\n      style={{ background: '#0D335D' }}\r\n    >\r\n      <div className='container'>\r\n        <div className='navbar-brand'>\r\n          <Link className='navbar-item' to='/home'>\r\n            <img src={logo} alt='Placeholder logo' className='mr-1' />\r\n          </Link>\r\n          <Link\r\n            onClick={toggleMenu}\r\n            role='button'\r\n            className='navbar-burger'\r\n            aria-label='menu'\r\n            aria-expanded='false'\r\n            data-target='navbarBasicExample'\r\n            style={{ color: '#fff' }}\r\n          >\r\n            <span aria-hidden='true'></span>\r\n            <span aria-hidden='true'></span>\r\n            <span aria-hidden='true'></span>\r\n          </Link>\r\n        </div>\r\n        <div className='navbar-menu' style={{ background: '#0D335D' }}>\r\n          <div className='navbar-start'>\r\n            <div className='navbar-item'>\r\n              <Link to='/home' className='has-text-white'>\r\n                Home\r\n              </Link>\r\n            </div>\r\n            <div className='navbar-item'>\r\n              <Link to='/communities' className='has-text-white'>\r\n                Communities\r\n              </Link>\r\n            </div>\r\n          </div>\r\n          <div className='navbar-end'>\r\n            <div className='navbar-item'>\r\n              {isAuthenticated ? (\r\n                <div className='buttons'>\r\n                  <Link to={`/u/${userName}`} className='button is-primary'>\r\n                    Dashboard\r\n                  </Link>\r\n                  <button onClick={logOut} className='button is-danger'>\r\n                    Log out\r\n                  </button>\r\n                </div>\r\n              ) : (\r\n                <div className='buttons'>\r\n                  <Link to='/signup' className='button is-primary'>\r\n                    Sign Up\r\n                  </Link>\r\n                  <Link to='/login' className='button is-light'>\r\n                    Log in\r\n                  </Link>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuthenticated: state.user.isAuthenticated,\r\n  userName: state.user.userName,\r\n});\r\nexport default connect(mapStateToProps, { logOut })(Header);\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAoCAYAAAC4h3lxAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAP7SURBVHgB1VnNbtNMFL13Yicp+vgUdq2gUtixYEGfgLwBeYNmCxJq+BNigUgWqAIJNQgQ2+QNwhukT1BgwxILEHTXCFo1jZO53OvgNM2PndhjWo4Uua4mnnPse+bMjRESQP7VXgExVQLEG3KOCpu641adOxccMAwEg/CIK+sJX7UwdQBBi1Sv6ty80AJDMCIg/+ZnCQHXZxKfnNYhgIpz678GxERkAfmtvZzKWhukocxXyUEkDITAkbsdtbwWFmCG+AQNBxFaUXwyt4ChMRWXSoJAxPoiQkIFhBozKcxp+KkCpEwgnSouZsykEGz4EwKSqW9TmG54T8DZJj4GgvZoMOLl1z/rSRszKYjhFfHyxbIc+OdAjmajDz0gacqa1vHUTRsMYtKgoercPt+S84lVKP/qVwFSNNganCGME/cxMwfyb/fyQKnKqQohahNiA7BX4zxwpg0JDbLVFz9KKbS3IG3nUCn4GyC+3dDt8h+9onN3+V3Q2KkCcpXPufMZu8gb+XUEKgwH22nADH8SEkL9PpDreh+pmT9weMLKl4cr4UEmxP/PZjcAdFlOZ8wzEGJbgJYFJkC9HtDRkScgAJ6Qrobt3UcrzpDLIsTHIU8CMxkWY0MUeHebSyWE+Dja/GyaLqmqCMHVzW91DoR4RmUhioUAPxG+VuBQv761V+MEccDfrksxt0AeTxxoDfrwEPTBAR87QHw+MRmTlTLR+/ug+RiXPIN7CHUcZPwkuAkHNi0WwAB8nwhRr8b5Y4A033Vq8c2ofnu02vLmGR9wafNrgStbflE4W0E2RtzH7CDb/JHX0K+cspA2l2dDoVVzRlaeUYQG2cXHn0qo7C1Mp3OYSsHfgHhIfMJlV/z+9EqEICvv5LK2dGRwoiNT6QyopSVISogsp7rDi0D3aLBaDcCNjKrsPr86R5Ax8XNpi/OAyhSQByJE1n8Vcf0fh+Y8kFWMem7QME8IoLu9+2zN8f+JixAfhzwJlV0aZEAU4pIHcseDiZ+cU3xB0NSqXxUhuHL/Q+yOTBJZLZ3zEjlsnzSs787haJlEm5egbvF2lcOArvNpHiJCSPUP9gdbC8ue6hOTxP9c0dE40pEtP/hY4oOxjsz3iRdkst9xu0aIDxobLp8Xay05n1iFlu/tcEemzmhHdkzcx8wcWH64wx2ZOtWOjEubOzJoEOja6MpzckwIRAj2ocg7zo04PlkEQpx/cXjZcXWtXVtrB49dAOITRHqSnBB8z26vH7q6EUZ8+A2IANOGn1Xf8yDWG5qLD3au9VGVY/ikyduHl1GI+zDyisk3PEfYDQLMBU84f33PA6Mv+TwhOlWY5hPTxI+vmxBGfMJNODU7Xf3OJHEfvwEIbSFam8+c1wAAAABJRU5ErkJggg==\"","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst Community = ({ community }) => {\r\n  return (\r\n    <div className='tile is-parent is-4'>\r\n      <div className='box tile is-child has-background-grey-light'>\r\n        <Link className='is-size-3' to={`/community/${community.name}`}>\r\n          {community.title}\r\n        </Link>\r\n        <p>{community.description}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Community;\r\n","import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport Community from './Community';\r\n\r\nfunction AllCommunities() {\r\n  const [communities, setCommunities] = useState([]);\r\n  useEffect(async () => {\r\n    const res = await axios.get(\r\n      'https://sheltered-plateau-70431.herokuapp.com/communities'\r\n    );\r\n    setCommunities(res.data.communities);\r\n  }, []);\r\n  return (\r\n    <div className='container'>\r\n      <div className='tile is-ancestor is-flex is-flex-wrap-wrap'>\r\n        {communities.map((community) => (\r\n          <Community key={community.id} community={community} />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AllCommunities;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Link, useLocation } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { setAlert } from '../redux/actions/alert';\r\n\r\nconst Post = ({ post, history, setAlert, isAuthenticated }) => {\r\n  const location = useLocation();\r\n  const [votes, setVotes] = useState(0);\r\n  const [showDeleteIcon, setShowDeleteIcon] = useState(false);\r\n  useEffect(() => {\r\n    setVotes(post.votes);\r\n    if (location.pathname.includes('/post/')) {\r\n      setShowDeleteIcon(true);\r\n    }\r\n  }, [post.votes]);\r\n  const voteUp = async (e) => {\r\n    if (!isAuthenticated) {\r\n      setAlert({ data: 'You must be logged in' }, 'danger');\r\n      return;\r\n    }\r\n    try {\r\n      const res = await axios.put(\r\n        `https://sheltered-plateau-70431.herokuapp.com/vote/post/${post.id}/up`\r\n      );\r\n      setVotes(res.data.post.votes);\r\n    } catch (error) {\r\n      console.log(error);\r\n      setAlert(error.response, 'danger');\r\n    }\r\n  };\r\n  const voteDown = async (e) => {\r\n    if (!isAuthenticated) {\r\n      setAlert({ data: 'You must be logged in' }, 'danger');\r\n      return;\r\n    }\r\n    try {\r\n      const res = await axios.put(\r\n        `https://sheltered-plateau-70431.herokuapp.com/vote/post/${post.id}/down`\r\n      );\r\n      setVotes(res.data.post.votes);\r\n    } catch (error) {\r\n      console.log(error);\r\n      setAlert(error.response, 'danger');\r\n    }\r\n  };\r\n  const deletePost = async () => {\r\n    try {\r\n      await axios.delete(\r\n        `https://sheltered-plateau-70431.herokuapp.com/delete/post/${post.id}`\r\n      );\r\n    } catch (error) {\r\n      console.log(error);\r\n      setAlert(error.response, 'danger');\r\n      return;\r\n    }\r\n    setAlert({ data: 'Post has been deleted' }, 'success');\r\n    history.push('/home');\r\n  };\r\n  return (\r\n    <div className='card mt-2 has-background-grey-lighter'>\r\n      <div className='card-content'>\r\n        <div className='is-flex is-flex-direction-row is-align-items-start'>\r\n          <div className='is-flex is-flex-direction-column is-align-items-center mr-2'>\r\n            <i\r\n              className='fa fa-arrow-up'\r\n              style={{ cursor: 'pointer' }}\r\n              onClick={voteUp}\r\n            ></i>\r\n            <p>{votes}</p>\r\n            <i\r\n              className='fa fa-arrow-down'\r\n              style={{ cursor: 'pointer' }}\r\n              onClick={voteDown}\r\n            ></i>\r\n          </div>\r\n          <div className='is-flex is-flex-direction-column'>\r\n            <Link\r\n              to={`/post/${post.id}`}\r\n              className='is-size-4 mb-1 has-text-dark has-text-weight-bold'\r\n            >\r\n              {post.title}\r\n            </Link>\r\n            <div className='is-flex'>\r\n              <Link\r\n                to={`/u/${post.user_name}`}\r\n                className='is-size-7 mr-2 has-text-dark'\r\n              >\r\n                <i className='fa fa-user'></i> {post.user_name}\r\n              </Link>\r\n              <Link\r\n                to={`/community/${post.community_name}`}\r\n                className='is-size-7 mr-2 has-text-dark'\r\n              >\r\n                <i className='fa fa-align-justify'></i> {post.community_name}\r\n              </Link>\r\n              <Link\r\n                to={`/post/${post.id}`}\r\n                className='is-size-7 mr-2 has-text-dark'\r\n              >\r\n                <i className='fa fa-comment'></i>\r\n                {' ' + post.comments_count}{' '}\r\n                {post.comments_count > 1 ? 'Comments' : 'Comment'}\r\n              </Link>\r\n            </div>\r\n            <div className='content is-size-5 mt-3'>{post.post_body}</div>\r\n          </div>\r\n        </div>\r\n        {showDeleteIcon ? (\r\n          <button\r\n            class='delete is-medium'\r\n            onClick={deletePost}\r\n            style={{ position: 'absolute', top: 10, right: 10 }}\r\n          ></button>\r\n        ) : (\r\n          ''\r\n        )}\r\n      </div>\r\n    </div>\r\n    // <div className='post'>\r\n    //   <div className='post-header'>\r\n    //     <div className='voting'>\r\n    //       <i className='fa fa-arrow-up'></i>\r\n    //       <p>{post.votes}</p>\r\n    //       <i className='fa fa-arrow-down'></i>\r\n    //     </div>\r\n    //     <div className='post-info'>\r\n    //       <Link to={`/post/${post.id}`} className='title'>\r\n    //         {post.title}\r\n    //       </Link>\r\n    //       <div className='post-meta-info'>\r\n    //         <Link to={`/u/${post.user_name}`}>\r\n    //           <i className='fa fa-user'></i> {post.user_name}\r\n    //         </Link>\r\n    //         <Link to={`/community/${post.community_name}`}>\r\n    //           <i className='fa fa-align-justify'></i> {post.community_name}\r\n    //         </Link>\r\n    //         <Link to={`/post/${post.id}`}>\r\n    //           <i className='fa fa-comment'></i>\r\n    //           {' ' + post.comments_count}{' '}\r\n    //           {post.comments_count > 1 ? 'Comments' : 'Comment'}\r\n    //         </Link>\r\n    //       </div>\r\n    //     </div>\r\n    //     {showDeleteIcon ? (\r\n    //       <div className='delete' onClick={deletePost}>\r\n    //         <i className='fa fa-trash-alt'></i>\r\n    //       </div>\r\n    //     ) : (\r\n    //       ''\r\n    //     )}\r\n    //   </div>\r\n    //   <div className='post-body'>{post.post_body}</div>\r\n    // </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuthenticated: state.user.isAuthenticated,\r\n});\r\nexport default connect(mapStateToProps, { setAlert })(withRouter(Post));\r\n","import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport { connect } from 'react-redux';\r\nimport { loadUser } from '../redux/actions/user';\r\nimport Post from './Post';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nconst Home = ({ loadUser, isAuthenticated }) => {\r\n  const [posts, setPosts] = useState([]);\r\n  useEffect(async () => {\r\n    loadUser();\r\n    const res = await axios.get(\r\n      'https://sheltered-plateau-70431.herokuapp.com/home'\r\n    );\r\n    setPosts(res.data.posts);\r\n  }, []);\r\n  if (!isAuthenticated) {\r\n    return <Redirect to='login' />;\r\n  }\r\n  return (\r\n    <div className='container p-4'>\r\n      {posts.length ? (\r\n        posts.map((post) => <Post post={post} />)\r\n      ) : (\r\n        <p className='title'>You are up to date</p>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuthenticated: state.user.isAuthenticated,\r\n});\r\n\r\nexport default connect(mapStateToProps, { loadUser })(Home);\r\n","import { React, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { login } from '../../redux/actions/user';\r\nimport { Link, Redirect } from 'react-router-dom';\r\n\r\nconst Login = ({ login, isAuthenticated }) => {\r\n  const [formData, setFormData] = useState({\r\n    email: '',\r\n    password: '',\r\n  });\r\n  const [emailErrorMsg, setEmailErrorMsg] = useState('');\r\n  const [passwordErrorMsg, setPasswordErrorMsg] = useState('');\r\n\r\n  const { email, password } = formData;\r\n  if (isAuthenticated) {\r\n    return <Redirect to='/home' />;\r\n  }\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (validate(email, password)) {\r\n      login({ email, password });\r\n    }\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    e.preventDefault();\r\n    setFormData({ ...formData, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const validate = (email, password) => {\r\n    const validEmailRegex = RegExp(\r\n      /^(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i\r\n    );\r\n    if (!validEmailRegex.test(email)) {\r\n      setEmailErrorMsg('Type a valid email address.');\r\n      return 0;\r\n    }\r\n    if (password.length < 6) {\r\n      setPasswordErrorMsg('Password must be 6 characters minimum.');\r\n      return 0;\r\n    }\r\n    return 1;\r\n  };\r\n\r\n  return (\r\n    <div className='container is-max-desktop mt-4 p-4'>\r\n      <form onSubmit={handleSubmit} noValidate>\r\n        <div className='field'>\r\n          <label htmlFor='email' className='label'>\r\n            Email\r\n          </label>\r\n          <div className='control'>\r\n            <input\r\n              className='input'\r\n              type='email'\r\n              name='email'\r\n              placeholder='Enter your email address'\r\n              value={email}\r\n              onChange={handleChange}\r\n            />\r\n          </div>\r\n          {emailErrorMsg ? (\r\n            <p className='help has-text-danger'>{emailErrorMsg}</p>\r\n          ) : null}\r\n        </div>\r\n        <div className='field'>\r\n          <label htmlFor='password' className='label'>\r\n            Password\r\n          </label>\r\n          <input\r\n            className='input'\r\n            type='password'\r\n            name='password'\r\n            placeholder='Enter your password'\r\n            value={password}\r\n            onChange={handleChange}\r\n          />\r\n          {passwordErrorMsg ? (\r\n            <p className='help has-text-danger'>{passwordErrorMsg}</p>\r\n          ) : null}\r\n        </div>\r\n        <button className='button is-success'>Login</button>\r\n      </form>\r\n      <p>\r\n        Don't have an account? <Link to='/signup'>Sign Up</Link>\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuthenticated: state.user.isAuthenticated,\r\n});\r\n\r\nexport default connect(mapStateToProps, { login })(Login);\r\n","import { React, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { register } from '../../redux/actions/user';\r\nimport { Link, Redirect } from 'react-router-dom';\r\n\r\nconst SignUp = ({ register, isAuthenticated }) => {\r\n  const [formData, setFormData] = useState({\r\n    firstName: '',\r\n    lastName: '',\r\n    userName: '',\r\n    email: '',\r\n    password: '',\r\n  });\r\n  const [firstNameErrorMsg, setFirstNameErrorMsg] = useState('');\r\n  const [lastNameErrorMsg, setLastNameErrorMsg] = useState('');\r\n  const [userNameErrorMsg, setUserNameErrorMsg] = useState('');\r\n  const [emailErrorMsg, setEmailErrorMsg] = useState('');\r\n  const [passwordErrorMsg, setPasswordErrorMsg] = useState('');\r\n\r\n  const { firstName, lastName, userName, email, password } = formData;\r\n  if (isAuthenticated) {\r\n    return <Redirect to='/home' />;\r\n  }\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (validate(firstName, lastName, userName, email, password)) {\r\n      register({ firstName, lastName, userName, email, password });\r\n    }\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    setFormData({ ...formData, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const validate = (firstName, lastName, userName, email, password) => {\r\n    if (!firstName.length) {\r\n      setFirstNameErrorMsg('First name is required');\r\n      return false;\r\n    }\r\n    if (!lastName.length) {\r\n      setLastNameErrorMsg('Last name is required');\r\n      return false;\r\n    }\r\n    if (!userName.length) {\r\n      setUserNameErrorMsg('User name is required');\r\n      return false;\r\n    }\r\n    const validEmailRegex = RegExp(\r\n      /^(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i\r\n    );\r\n    if (!validEmailRegex.test(email)) {\r\n      setEmailErrorMsg('Type a valid email address.');\r\n      return false;\r\n    }\r\n    if (password.length < 6) {\r\n      setPasswordErrorMsg('Password must be 6 characters minimum.');\r\n      return false;\r\n    }\r\n    return true;\r\n  };\r\n\r\n  return (\r\n    <div className='container is-max-desktop mt-4 p-4'>\r\n      <form onSubmit={handleSubmit} noValidate>\r\n        <div className='field'>\r\n          <label htmlFor='firstName' className='label'>\r\n            First Name\r\n          </label>\r\n          <input\r\n            className='input'\r\n            type='text'\r\n            name='firstName'\r\n            placeholder='Enter your first name'\r\n            value={firstName}\r\n            onChange={handleChange}\r\n          />\r\n          {firstNameErrorMsg ? (\r\n            <p className='has-text-danger help'>{firstNameErrorMsg}</p>\r\n          ) : null}\r\n        </div>\r\n        <div className='field'>\r\n          <label htmlFor='lastName' className='label'>\r\n            Last Name\r\n          </label>\r\n          <input\r\n            className='input'\r\n            type='text'\r\n            name='lastName'\r\n            placeholder='Enter your last name'\r\n            value={lastName}\r\n            onChange={handleChange}\r\n          />\r\n          {lastNameErrorMsg ? (\r\n            <p className='has-text-danger help'>{lastNameErrorMsg}</p>\r\n          ) : null}\r\n        </div>\r\n        <div className='field'>\r\n          <label htmlFor='userName' className='label'>\r\n            User Name\r\n          </label>\r\n          <input\r\n            className='input'\r\n            type='text'\r\n            name='userName'\r\n            placeholder='Enter your User Name'\r\n            value={userName}\r\n            onChange={handleChange}\r\n          />\r\n          {userNameErrorMsg ? (\r\n            <p className='has-text-danger help'>{userNameErrorMsg}</p>\r\n          ) : null}\r\n        </div>\r\n        <div className='field'>\r\n          <label htmlFor='email' className='label'>\r\n            Email\r\n          </label>\r\n          <input\r\n            className='input'\r\n            type='email'\r\n            name='email'\r\n            placeholder='Enter your email address'\r\n            value={email}\r\n            onChange={handleChange}\r\n          />\r\n          {emailErrorMsg ? (\r\n            <p className='has-text-danger help'>{emailErrorMsg}</p>\r\n          ) : null}\r\n        </div>\r\n        <div className='field'>\r\n          <label htmlFor='password' className='label'>\r\n            Password\r\n          </label>\r\n          <input\r\n            className='input'\r\n            type='password'\r\n            name='password'\r\n            placeholder='Enter your password'\r\n            value={password}\r\n            onChange={handleChange}\r\n          />\r\n          {passwordErrorMsg ? (\r\n            <p className='has-text-danger help'>{passwordErrorMsg}</p>\r\n          ) : null}\r\n        </div>\r\n        <button className='button is-success'>Sign Up</button>\r\n      </form>\r\n      <p>\r\n        Have an account? <Link to='/login'>Login</Link>\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuthenticated: state.user.isAuthenticated,\r\n});\r\n\r\nexport default connect(mapStateToProps, { register })(SignUp);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nconst Alert = ({ alerts }) => {\r\n  return (\r\n    <div className='container is-max-desktop p-4'>\r\n      {alerts !== null &&\r\n        alerts.length > 0 &&\r\n        alerts.map((alert) => (\r\n          <div\r\n            key={alert.id}\r\n            className={`notification ${\r\n              alert.type == 'danger' ? 'is-danger' : 'is-success'\r\n            }`}\r\n          >\r\n            {alert.msg.data}\r\n          </div>\r\n        ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  alerts: state.alert,\r\n});\r\nexport default connect(mapStateToProps)(Alert);\r\n","export default __webpack_public_path__ + \"static/media/spinner.5b18dcd8.gif\";","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport Post from '../Post';\r\nimport { useParams } from 'react-router-dom';\r\n\r\nconst Posts = () => {\r\n  const [posts, setPosts] = useState([]);\r\n  const userName = useParams().name;\r\n  useEffect(async () => {\r\n    const res = await axios.get(\r\n      `https://sheltered-plateau-70431.herokuapp.com/u/${userName}/posts`\r\n    );\r\n    setPosts(res.data.posts);\r\n  }, [userName]);\r\n  return (\r\n    <div>\r\n      {posts.length ? (\r\n        posts.map((post) => <Post key={post.id} post={post} />)\r\n      ) : (\r\n        <p>There are no posts here!</p>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Posts;\r\n","import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport { connect } from 'react-redux';\r\nimport { setAlert } from '../redux/actions/alert';\r\nimport { Link, useLocation, useParams, withRouter } from 'react-router-dom';\r\n\r\nconst Comment = ({ comment, isAuthenticated, setAlert, history }) => {\r\n  const [votes, setVotes] = useState(0);\r\n  const [showDeleteIcon, setShowDeleteIcon] = useState(false);\r\n  const location = useLocation();\r\n  const postId = useParams().id;\r\n  useEffect(() => {\r\n    setVotes(comment.votes);\r\n    if (location.pathname.includes('/post/')) {\r\n      setShowDeleteIcon(true);\r\n    }\r\n  }, []);\r\n  const voteUp = async (e) => {\r\n    if (!isAuthenticated) {\r\n      setAlert({ data: 'You must be logged in' }, 'danger');\r\n      return;\r\n    }\r\n    try {\r\n      const res = await axios.put(\r\n        `https://sheltered-plateau-70431.herokuapp.com/vote/comment/${comment.id}/up`\r\n      );\r\n      setVotes(res.data.votes);\r\n    } catch (error) {\r\n      console.log(error);\r\n      setAlert(error.response, 'danger');\r\n    }\r\n  };\r\n  const voteDown = async (e) => {\r\n    if (!isAuthenticated) {\r\n      setAlert({ data: 'You must be logged in' }, 'danger');\r\n      return;\r\n    }\r\n    try {\r\n      const res = await axios.put(\r\n        `https://sheltered-plateau-70431.herokuapp.com/vote/comment/${comment.id}/down`\r\n      );\r\n      setVotes(res.data.votes);\r\n    } catch (error) {\r\n      console.log(error);\r\n      setAlert(error.response, 'danger');\r\n    }\r\n  };\r\n  const deleteComment = async () => {\r\n    try {\r\n      await axios.delete(\r\n        `https://sheltered-plateau-70431.herokuapp.com/delete/comment/${postId}/${comment.id}`\r\n      );\r\n    } catch (error) {\r\n      console.log(error);\r\n      setAlert(error.response, 'danger');\r\n    }\r\n    window.location.reload(false);\r\n  };\r\n  return (\r\n    <div\r\n      className='card mt-2 has-background-grey-lighter'\r\n      style={{ position: 'relative' }}\r\n    >\r\n      <div className='card-content'>\r\n        <div className='is-flex is-flex-direction-row is-align-items-start'>\r\n          <div className='is-flex is-flex-direction-column is-align-items-center mr-2'>\r\n            <i\r\n              className='fa fa-arrow-up'\r\n              style={{ cursor: 'pointer' }}\r\n              onClick={voteUp}\r\n            ></i>\r\n            <p>{votes}</p>\r\n            <i\r\n              className='fa fa-arrow-down'\r\n              style={{ cursor: 'pointer' }}\r\n              onClick={voteDown}\r\n            ></i>\r\n          </div>\r\n          <div className='is-flex is-flex-direction-column'>\r\n            <div>\r\n              <Link\r\n                to={`/u/${comment.user_name}`}\r\n                className='is-size-7 mr-2 has-text-dark'\r\n              >\r\n                <i className='fa fa-user'></i> {comment.user_name}\r\n              </Link>\r\n            </div>\r\n            <div className='content is-size-5 mt-3'>{comment.comment_body}</div>\r\n          </div>\r\n          {showDeleteIcon ? (\r\n            <button\r\n              class='delete is-medium'\r\n              onClick={deleteComment}\r\n              style={{ position: 'absolute', top: 10, right: 10 }}\r\n            ></button>\r\n          ) : (\r\n            ''\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuthenticated: state.user.isAuthenticated,\r\n});\r\n\r\nexport default connect(mapStateToProps, { setAlert })(withRouter(Comment));\r\n","import React, { useEffect, useState } from 'react';\r\nimport Comment from '../Comment';\r\nimport axios from 'axios';\r\nimport { useParams } from 'react-router-dom';\r\n\r\nconst Comments = () => {\r\n  const userName = useParams().name;\r\n  const [comments, setComments] = useState([]);\r\n  useEffect(async () => {\r\n    const res = await axios.get(\r\n      `https://sheltered-plateau-70431.herokuapp.com/u/${userName}/comments`\r\n    );\r\n    setComments(res.data.comments);\r\n  }, [userName]);\r\n  return (\r\n    <div className='container'>\r\n      {comments.length ? (\r\n        comments.map((comment) => (\r\n          <Comment key={comment.id} comment={comment} />\r\n        ))\r\n      ) : (\r\n        <p>There are no comments here!</p>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Comments;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Link, useParams } from 'react-router-dom';\r\nimport Community from './Community';\r\nimport axios from 'axios';\r\n\r\nfunction AllCommunities() {\r\n  const userName = useParams().name;\r\n  const [showCreateCommnity, setShowCreateCommunity] = useState(false);\r\n  const [communities, setCommunities] = useState([]);\r\n  useEffect(async () => {\r\n    const res = await axios.get(\r\n      `https://sheltered-plateau-70431.herokuapp.com/u/${userName}/communities`\r\n    );\r\n    if (userName === localStorage.getItem('userName')) {\r\n      setShowCreateCommunity(true);\r\n    }\r\n    setCommunities(res.data.communities);\r\n  }, [userName]);\r\n  return (\r\n    <div className='container'>\r\n      <div className='tile is-ancestor is-flex is-flex-wrap-wrap'>\r\n        {communities.length\r\n          ? communities.map((community) => (\r\n              <Community key={community.id} community={community} />\r\n            ))\r\n          : 'You did not join any communities  yet!'}\r\n      </div>\r\n      {showCreateCommnity ? (\r\n        <Link className='button is-success' to='/create-community'>\r\n          create community\r\n        </Link>\r\n      ) : (\r\n        ''\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AllCommunities;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Spinner from '../../assets/spinner.gif';\r\nimport { Redirect, useParams } from 'react-router-dom';\r\nimport Posts from './Posts';\r\nimport Comments from './Comments';\r\nimport DashboardCommunities from '../DashboardCommunities';\r\nimport axios from 'axios';\r\n\r\nconst UserPage = ({ user: { loading, isAuthenticated } }) => {\r\n  const [selected, setSelected] = useState('posts');\r\n  const [profile, setProfile] = useState({});\r\n  const userName = useParams().name;\r\n  useEffect(async () => {\r\n    if (localStorage.getItem('selected')) {\r\n      setSelected(localStorage.getItem('selected'));\r\n    }\r\n    const res = await axios.get(\r\n      `https://sheltered-plateau-70431.herokuapp.com/u/${userName}`\r\n    );\r\n    setProfile(res.data.user);\r\n  }, [userName]);\r\n  if (!isAuthenticated) {\r\n    return <Redirect to='/login' />;\r\n  }\r\n  const handleClick = (e) => {\r\n    if (e.target.innerText === 'Posts') {\r\n      setSelected('posts');\r\n      localStorage.setItem('selected', 'posts');\r\n    } else if (e.target.innerText === 'Comments') {\r\n      setSelected('comments');\r\n      localStorage.setItem('selected', 'comments');\r\n    } else if (e.target.innerText === 'Communities') {\r\n      setSelected('communities');\r\n      localStorage.setItem('selected', 'communities');\r\n    }\r\n  };\r\n  const selectedView = () => {\r\n    if (selected === 'posts') {\r\n      return <Posts />;\r\n    } else if (selected === 'comments') {\r\n      return <Comments />;\r\n    } else if (selected === 'communities') {\r\n      return <DashboardCommunities />;\r\n    }\r\n  };\r\n  return loading && profile === null ? (\r\n    <img src={Spinner} alt='Loading' />\r\n  ) : (\r\n    <div className='container p-4'>\r\n      <div className='card has-background-grey-lighter'>\r\n        <div className='card-content'>\r\n          <p className='title'>\r\n            {profile.first_name + ' ' + profile.last_name}{' '}\r\n          </p>\r\n          <p className='subtitle'>@{profile.user_name}</p>\r\n          <p className='subtitle'>\r\n            <span className='has-text-weight-bold'>Karma: </span>\r\n            {profile.karma}\r\n          </p>\r\n          <p className='subtitle'>\r\n            <span className='has-text-weight-bold'>Joined at: </span>\r\n            {profile.created_at}\r\n          </p>\r\n        </div>\r\n      </div>\r\n      <div className='buttons mt-2'>\r\n        <button className='button is-link' onClick={handleClick}>\r\n          Posts\r\n        </button>\r\n        <button className='button is-link' onClick={handleClick}>\r\n          Comments\r\n        </button>\r\n        <button className='button is-link' onClick={handleClick}>\r\n          Communities\r\n        </button>\r\n      </div>\r\n      {selectedView()}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  user: state.user,\r\n});\r\n\r\nexport default connect(mapStateToProps)(UserPage);\r\n","import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { setAlert } from '../redux/actions/alert';\r\nimport { connect } from 'react-redux';\r\n\r\nconst CreateCommunity = ({ setAlert, history, isAuthenticated }) => {\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    description: '',\r\n    topic: '',\r\n  });\r\n  if (!isAuthenticated) {\r\n    history.push('/login');\r\n  }\r\n  const { name, description, topic } = formData;\r\n  const [nameErrorMsg, setNameErrorMsg] = useState('');\r\n  const [descriptionErrorMsg, setDescriptionErrorMsg] = useState('');\r\n  const [topicErrorMsg, setTopicErrorMsg] = useState('');\r\n  const handleChange = (e) => {\r\n    setFormData({ ...formData, [e.target.name]: e.target.value });\r\n  };\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (!name.length) {\r\n      setNameErrorMsg('Name must be provided');\r\n      return;\r\n    }\r\n    if (!description.length) {\r\n      setDescriptionErrorMsg('Description must be provided');\r\n      return;\r\n    }\r\n    if (!topic.length) {\r\n      setTopicErrorMsg('Topic must be provided');\r\n      return;\r\n    }\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n    };\r\n    try {\r\n      const body = JSON.stringify(formData);\r\n      const res = await axios.post(\r\n        'https://sheltered-plateau-70431.herokuapp.com/create/community',\r\n        body,\r\n        config\r\n      );\r\n      history.push(`/community/${res.data.community.name}`);\r\n    } catch (error) {\r\n      setAlert(error.response, 'danger');\r\n    }\r\n  };\r\n  return (\r\n    <div className='container is-max-desktop mt-4 p-4'>\r\n      <form onSubmit={handleSubmit}>\r\n        <h2 className='title'>Create Community</h2>\r\n        <div className='field'>\r\n          <label htmlFor='name' className='label'>\r\n            Name\r\n          </label>\r\n          <input\r\n            className='input'\r\n            type='text'\r\n            name='name'\r\n            placeholder='Enter name of community'\r\n            value={name}\r\n            onChange={handleChange}\r\n          />\r\n          {nameErrorMsg ? (\r\n            <p className='help has-text-danger'>{nameErrorMsg}</p>\r\n          ) : null}\r\n        </div>\r\n\r\n        <div className='field'>\r\n          <label htmlFor='description' className='label'>\r\n            Description\r\n          </label>\r\n          <input\r\n            className='input'\r\n            type='text'\r\n            name='description'\r\n            placeholder='Enter desciption of community'\r\n            value={description}\r\n            onChange={handleChange}\r\n          />\r\n          {descriptionErrorMsg ? (\r\n            <p className='help has-text-danger'>{descriptionErrorMsg}</p>\r\n          ) : null}\r\n        </div>\r\n        <div className='field'>\r\n          <label htmlFor='name' className='label'>\r\n            Topic\r\n          </label>\r\n          <input\r\n            className='input'\r\n            type='text'\r\n            name='topic'\r\n            placeholder='Enter topic of community'\r\n            value={topic}\r\n            onChange={handleChange}\r\n          />\r\n          {topicErrorMsg ? (\r\n            <p className='help has-text-danger'>{topicErrorMsg}</p>\r\n          ) : null}\r\n        </div>\r\n        <button className='button is-success'>Create Community</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuthenticated: state.user.isAuthenticated,\r\n});\r\nexport default connect(mapStateToProps, { setAlert })(CreateCommunity);\r\n","import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { useParams, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nconst CreateCommunity = ({ history, isAuthenticated }) => {\r\n  const [formData, setFormData] = useState({\r\n    title: '',\r\n    body: '',\r\n  });\r\n  const communityName = useParams().name;\r\n  const { title, body } = formData;\r\n  const [titleErrorMsg, setTitleErrorMsg] = useState('');\r\n  const [bodyErrorMsg, setBodyErrorMsg] = useState('');\r\n  if (!isAuthenticated) {\r\n    return <Redirect to='/login' />;\r\n  }\r\n  const handleChange = (e) => {\r\n    setFormData({ ...formData, [e.target.name]: e.target.value });\r\n  };\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (!title.length) {\r\n      setTitleErrorMsg('Title must be provided');\r\n      return;\r\n    }\r\n    if (!body.length) {\r\n      setBodyErrorMsg('Body must be provided');\r\n      return;\r\n    }\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n    };\r\n    const post = JSON.stringify({\r\n      post_body: body,\r\n      title: title,\r\n    });\r\n    const res = await axios.post(\r\n      `https://sheltered-plateau-70431.herokuapp.com/create/post/community/${communityName}`,\r\n      post,\r\n      config\r\n    );\r\n    history.push(`/community/${communityName}`);\r\n  };\r\n  return (\r\n    <div className='container is-max-desktop mt-4 p-4'>\r\n      <form onSubmit={handleSubmit}>\r\n        <h2 className='title'>Create Post</h2>\r\n        <div className='field'>\r\n          <label htmlFor='name' className='label'>\r\n            Title\r\n          </label>\r\n          <input\r\n            className='input'\r\n            type='text'\r\n            name='title'\r\n            placeholder='Enter post title'\r\n            value={title}\r\n            onChange={handleChange}\r\n          />\r\n          {titleErrorMsg ? (\r\n            <p className='help has-text-danger'>{titleErrorMsg}</p>\r\n          ) : null}\r\n        </div>\r\n        <div className='field'>\r\n          <label htmlFor='body' className='label'>\r\n            Body\r\n          </label>\r\n          <textarea\r\n            className='textarea'\r\n            name='body'\r\n            cols='10'\r\n            rows='5'\r\n            placeholder='Enter the post'\r\n            value={body}\r\n            onChange={handleChange}\r\n          />\r\n          {bodyErrorMsg ? (\r\n            <p className='help has-text-danger'>{bodyErrorMsg}</p>\r\n          ) : null}\r\n        </div>\r\n        <button className='button is-success'>Create Post</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuthenticated: state.user.isAuthenticated,\r\n});\r\nexport default connect(mapStateToProps)(CreateCommunity);\r\n","import {\r\n  LOGIN_SUCCESS,\r\n  LOGIN_FAIL,\r\n  REGISTER_FAIL,\r\n  REGISTER_SUCCESS,\r\n  LOG_OUT,\r\n  USER_LOAD_FAIL,\r\n  USER_LOAD_SUCCESS,\r\n} from '../actions/types';\r\n\r\nconst initialState = {\r\n  isAuthenticated: null,\r\n  token: null,\r\n  userName: null,\r\n  loading: true,\r\n};\r\n\r\nconst user = (state = initialState, { type, payload }) => {\r\n  switch (type) {\r\n    case REGISTER_SUCCESS:\r\n    case LOGIN_SUCCESS:\r\n      return {\r\n        ...state,\r\n        token: payload.token,\r\n        userName: payload.user_name,\r\n        isAuthenticated: true,\r\n        loading: false,\r\n      };\r\n    case USER_LOAD_SUCCESS:\r\n      return {\r\n        ...state,\r\n        token: payload.token,\r\n        isAuthenticated: true,\r\n        loading: false,\r\n        userName: payload.userName,\r\n      };\r\n    case REGISTER_FAIL:\r\n    case LOGIN_FAIL:\r\n    case LOG_OUT:\r\n      return {\r\n        ...state,\r\n        isAuthenticated: false,\r\n        token: null,\r\n        loading: false,\r\n        userName: null,\r\n      };\r\n    case USER_LOAD_FAIL:\r\n      return {\r\n        ...state,\r\n        isAuthenticated: false,\r\n        loading: false,\r\n        userName: null,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default user;\r\n","import { SET_ALERT, REMOVE_ALERT } from '../actions/types';\r\nconst initialState = [];\r\n\r\nconst alert = (state = initialState, { type, payload }) => {\r\n  switch (type) {\r\n    case SET_ALERT:\r\n      return [...state, payload];\r\n    case REMOVE_ALERT:\r\n      return state.filter((alert) => alert.id !== payload);\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default alert;\r\n","import { combineReducers } from 'redux';\r\nimport user from './user';\r\nimport alert from './alert';\r\n\r\nconst rootReducer = combineReducers({\r\n  user,\r\n  alert,\r\n});\r\n\r\nexport default rootReducer;\r\n","import { createStore, applyMiddleware } from 'redux';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport thunk from 'redux-thunk';\r\nimport rootReducer from './reducers/index';\r\n\r\nconst initialState = {};\r\nconst middleware = [thunk];\r\n\r\nconst store = createStore(\r\n  rootReducer,\r\n  initialState,\r\n  composeWithDevTools(applyMiddleware(...middleware))\r\n);\r\n\r\nexport default store;\r\n","import React, { useEffect, useState } from 'react';\r\nimport Post from './Post';\r\nimport { useParams } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport Comment from './Comment';\r\nimport { setAlert } from '../redux/actions/alert';\r\nimport { connect } from 'react-redux';\r\n\r\nconst PostPage = ({ isAuthenticated, setAlert, history }) => {\r\n  const { id } = useParams();\r\n  const [post, setPost] = useState({});\r\n  const [comments, setComments] = useState([]);\r\n  const [comment, setComment] = useState();\r\n\r\n  const handleChange = (e) => {\r\n    setComment(e.target.value);\r\n  };\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (!comment.length) {\r\n      setAlert({ data: 'Comment cannot be empty' }, 'danger');\r\n      return;\r\n    }\r\n    const body = JSON.stringify({\r\n      comment_body: comment,\r\n    });\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n    };\r\n    const res = await axios.post(\r\n      `https://sheltered-plateau-70431.herokuapp.com/create/comment/post/${id}`,\r\n      body,\r\n      config\r\n    );\r\n    setComment('');\r\n    setComments([res.data.comment, ...comments]);\r\n  };\r\n  useEffect(async () => {\r\n    try {\r\n      const res = await axios.get(\r\n        `https://sheltered-plateau-70431.herokuapp.com/post/${id}`\r\n      );\r\n      setPost(res.data.post);\r\n      setComments(res.data.comments);\r\n    } catch (error) {\r\n      history.push('/404');\r\n    }\r\n  }, []);\r\n  return (\r\n    <div className='container'>\r\n      <Post post={post} />\r\n      {isAuthenticated ? (\r\n        <form onSubmit={handleSubmit}>\r\n          <textarea\r\n            className='textarea mt-2'\r\n            value={comment}\r\n            onChange={handleChange}\r\n            name='comment'\r\n            cols='10'\r\n            rows='5'\r\n            placeholder='Add a comment'\r\n          ></textarea>\r\n          <button className='button mt-2 is-link ml-0'>Add</button>\r\n        </form>\r\n      ) : (\r\n        ''\r\n      )}\r\n      {comments.map((comment) => (\r\n        <Comment key={comment.id} comment={comment} />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\nconst mapStateToProps = (state) => ({\r\n  isAuthenticated: state.user.isAuthenticated,\r\n});\r\n\r\nexport default connect(mapStateToProps, { setAlert })(PostPage);\r\n","import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Link, useParams } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport Post from './Post';\r\nimport { setAlert } from '../redux/actions/alert';\r\n\r\nconst CommunityPage = ({ isAuthenticated, history, setAlert }) => {\r\n  const [posts, setPosts] = useState([]);\r\n  const [community, setCommunity] = useState({});\r\n  const [isAdmin, setIsAdmin] = useState(false);\r\n  const [isJoined, setIsJoined] = useState(false);\r\n  const name = useParams().name;\r\n  useEffect(() => {\r\n    if (community.admin === localStorage.getItem('userName')) {\r\n      setIsAdmin(true);\r\n    }\r\n  }, [community]);\r\n  useEffect(async () => {\r\n    const res = await axios.get(\r\n      `https://sheltered-plateau-70431.herokuapp.com/community/${name}`\r\n    );\r\n    setCommunity(res.data.community);\r\n    setPosts(res.data.posts);\r\n    setIsJoined(\r\n      res.data.users.filter((user) => user === localStorage.getItem('userName'))\r\n        .length > 0\r\n    );\r\n  }, []);\r\n  const join = async () => {\r\n    const res = await axios.put(\r\n      `https://sheltered-plateau-70431.herokuapp.com/join/community/${community.name}`\r\n    );\r\n    setCommunity(res.data.community);\r\n    setIsJoined(true);\r\n  };\r\n  const leave = async () => {\r\n    const res = await axios.put(\r\n      `https://sheltered-plateau-70431.herokuapp.com/leave/community/${community.name}`\r\n    );\r\n    setCommunity(res.data.community);\r\n    setIsJoined(false);\r\n  };\r\n  const deleteCommunity = async () => {\r\n    await axios.delete(\r\n      `https://sheltered-plateau-70431.herokuapp.com/delete/community/${community.name}`\r\n    );\r\n    setAlert({ data: 'Community has been deleted' }, 'success');\r\n    history.push('/home');\r\n  };\r\n  return (\r\n    <div className='container is-flex is-flex-wrap-wrap'>\r\n      <div className='is-flex-grow-1 mr-2' style={{ maxWidth: '750px' }}>\r\n        {posts.length ? (\r\n          posts.map((post) => <Post key={post.id} post={post} />)\r\n        ) : (\r\n          <p className='title'>There are no posts here!</p>\r\n        )}\r\n      </div>\r\n      <div>\r\n        <div className='card px-5 mt-2' style={{ maxWidth: '300px' }}>\r\n          <h2 className='title'>{community.title}</h2>\r\n          <p className='subtitle'>{community.description}</p>\r\n          <p>Members: {community.members_count}</p>\r\n          {isAuthenticated ? (\r\n            isAdmin ? (\r\n              <button\r\n                className='button is-danger my-2'\r\n                onClick={deleteCommunity}\r\n              >\r\n                Delete Community\r\n              </button>\r\n            ) : isJoined ? (\r\n              <button className='button is-danger my-2' onClick={leave}>\r\n                Leave\r\n              </button>\r\n            ) : (\r\n              <button onClick={join} className='button is-success my-2'>\r\n                Join\r\n              </button>\r\n            )\r\n          ) : (\r\n            ''\r\n          )}\r\n        </div>\r\n        {isAuthenticated && (isJoined || isAdmin) ? (\r\n          <Link\r\n            className='button button is-link mt-2'\r\n            to={`/create/post/community/${community.name}`}\r\n          >\r\n            Create Post\r\n          </Link>\r\n        ) : (\r\n          ''\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuthenticated: state.user.isAuthenticated,\r\n});\r\n\r\nexport default connect(mapStateToProps, { setAlert })(CommunityPage);\r\n","import { FaRegFileArchive } from 'react-icons/fa';\r\n\r\nimport React from 'react';\r\n\r\nconst NotFound = () => {\r\n  return <div className='container'>Oops, looks like you are lost!</div>;\r\n};\r\n\r\nexport default NotFound;\r\n","import React, { useEffect } from 'react';\r\nimport Header from './components/header/Header';\r\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\r\nimport AllCommunities from './components/AllCommunities';\r\nimport Home from './components/Home';\r\nimport Login from './components/login/Login';\r\nimport SignUp from './components/signup/SignUp';\r\nimport Alert from './components/alart/Alert';\r\nimport UserPage from './components/dashboard/UserPage';\r\nimport CreateCommunity from './components/CreateCommunity';\r\nimport CreatePost from './components/CreatePost';\r\nimport store from './redux/store';\r\nimport { Provider } from 'react-redux';\r\nimport { loadUser } from './redux/actions/user';\r\n// import './app.scss';\r\nimport PostPage from './components/PostPage';\r\nimport CommunityPage from './components/CommunityPage';\r\nimport NotFound from './components/NotFound';\r\n\r\nconst App = () => {\r\n  useEffect(() => {\r\n    store.dispatch(loadUser());\r\n  }, []);\r\n  return (\r\n    <Provider store={store}>\r\n      <Router>\r\n        <Header />\r\n        <Alert />\r\n        <Switch>\r\n          <Route path='/communities' exact component={AllCommunities} />\r\n          <Route path='/home' exact component={Home} />\r\n          <Route path='/login' exact component={Login} />\r\n          <Route path='/' exact component={Login} />\r\n          <Route path='/signup' exact component={SignUp} />\r\n          <Route path='/create-community' exact component={CreateCommunity} />\r\n          <Route path='/u/:name' exact component={UserPage} />\r\n          <Route path='/post/:id' exact component={PostPage} />\r\n          <Route path='/community/:name' exact component={CommunityPage} />\r\n          <Route\r\n            path='/create/post/community/:name'\r\n            exact\r\n            component={CreatePost}\r\n          />\r\n          <Route path='/404' exact component={NotFound} />\r\n        </Switch>\r\n      </Router>\r\n    </Provider>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);"],"sourceRoot":""}